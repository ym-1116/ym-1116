[{"title":"PL/0编译程序的研究与改进","url":"/2021/09/21/pl-0/","content":"\n编译原理项目，程序是清华大学出版的编译原理附录带的，最终目标是把它搞明白然后再改进一下。边学边做，边做边记录，时间长了就忘了。\n\n9-21 完成词法分析\n\n先把程序大致通读了一遍，明白了各个函数之间是如何相互调用工作的。然后再细读词法分析相关的两个函数。\n\n细读的时候首先要做的就是把程序里边那些全局变量的意义搞明白，按图索骥去头文件里看一看它是干啥的，要不然会一头雾水。\n\n词法分析涉及到两个函数：getch和getsym，贴一下自己的分析。\n\n```c\n/*\n *  cc：字母数目\n *  ll：行的长度\n *  feof是C语言标准库函数，其原型在stdio.h中，其功能是检测流上的文件结束符，\n *  如果文件结束，则返回非0值，否则返回0.\n *\n */\nint getch()\n{\n\tif(cc==ll) // 判断是否读完一行\n    {\n\t\tif(feof(fin)) // feof检测文件流是否结束，结束返回非零值\n\t\t{\n\t\t\tprintf(\"program incomplete\"); // 文件异常终止\n\t\t\treturn -1; // 结束执行\n\t\t}\n\t\tll=0; // 换行\n\t\tcc=0; \n\t\tprintf(\"%d \",cx ); // cx?\n\t\tfprintf(fa1,\"%d \",cx);\n\t\tch=' '; // 初始化为空\n\t\twhile(ch!=10) // 如果遇到换行符就终止，即读取一行字符\n\t\t{\n\t\t\t//fscanf(fin,\"%c\",&ch)\n            if(EOF==fscanf(fin,\"%c\",&ch)) // 如果遇到文件结尾，则把当前位置赋0并退出循环\n\t\t\t{\n\t\t\t\tline[ll]=0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprintf(\"%c\",ch);\n\t\t\tfprintf(fa1,\"%c\",ch);\n\t\t\tline[ll]=ch; \n\t\t\tll++;\n\t\t}\n\t\tprintf(\"\\n\");\n\t\tfprintf(fa1,\"\\n\");\n\t}\n\tch=line[cc]; // 获取当前行首个未读取字符\n\tcc++; // 首个未读取字符位置+1\n\treturn 0;\n}\n```\n\n```c\n /*\n * 从源文件中读出若干有效字符，组成一个串，通过一系列判断来识别它的类型，\n * 如果是保留字，就把 sym 置成其对应的保留字类型，如果是标识符，则把 sym 置为 ident\n * id 变量中存放的是保留字字符串或标识符名字\n * 如果是数字，把 sym 置为 number,同时 num 变量中存放该数字的值\n * 如果是其它的操作符，则直接把 sym 置成相应类型\n * 最后的结果是一个由（单词类别，单词值）组成的二元组\n * 经过此过程后ch 中存放的是下一个要被识别的字符\n */\n\nint getsym()\n{\n\tint i,j,k;\n\twhile( ch==' '||ch==10||ch==9) // 跳过空格，换行和Tab，换行和tab对应的ASCII码分别为10，9\n\t{\n\t\tgetchdo; // 重新读取字符\n\t}\n\tif(ch>='a'&&ch<='z') // 第一个字符为字母，可能是标识符或保留字\n\t{ \n\t\tk=0;\n\t\tdo{\n\t\t\tif(k<al) // 规定长度不得超过al\n\t\t\t{ \n\t\t\t\ta[k]=ch;\n\t\t\t\tk++;\n\t\t\t}\n\t\t\tgetchdo; \n\t\t}while(ch>='a'&&ch<='z'||ch>='0'&&ch<='9'); // 重复读取直到出现不满足文法规则的字符\n\t\ta[k]=0;\n\t\tstrcpy(id,a); // 将读取到的字符串复制到id中\n\n\t\ti=0; \n\t\tj=norw-1;\n\t\tdo{ // 二分查找，搜索当前符号是否为保留字\n\t\t\tk=(i+j)/2;\n\t\t\tif(strcmp(id,word[k])<=0)\n\t\t\t{\n\t\t\t\tj=k-1;\n\t\t\t}\n\t\t\tif(strcmp(id,word[k])>=0)\n\t\t\t{\n\t\t\t\ti=k+1;\n\t\t\t}\n\n\t\t}while(i<=j);\n\t\tif(i-1>j) // 如果是保留字则标记为为其对应的保留字符\n\t\t{\n\t\t\tsym=wsym[k];\n\t\t}\n\t\telse // 不是则标记为标识符\n\t\t{\n\t\t\tsym=ident;\n\t\t}\n\t}\n\telse\n\t{\n\t\tif(ch>='0'&&ch<='9') // 首字符是数字，解析为整数\n\t\t{\n\t\t\tk=0;\n\t\t\tnum=0;\n\t\t\tsym=number;\n\t\t\tdo{\n\t\t\t\tnum=10*num+ch-'0';\n\t\t\t\tk++;\n\t\t\t\tgetchdo;\n\t\t\t}while(ch>='0'&&ch<='9'); // 重复读取保存数字\n\t\t\tk--;\n\t\t\tif(k>nmax) // 超过规定大小，返回相应错误值\n\t\t\t{\n\t\t\t\terror(30);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(ch==':')  // 判断是否为:=           \n\t\t\t{\n\t\t\t\tgetchdo;\n\t\t\t\tif(ch=='=')\n\t\t\t\t{\n\t\t\t\t\tsym=becomes; // 确认为:=\n\t\t\t\t\tgetchdo;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsym=nul;  // 返回nul\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(ch=='<')   // <\n\t\t\t\t{\n\t\t\t\t\tgetchdo;\n\t\t\t\t\tif(ch=='=') // <=\n\t\t\t\t\t{\n\t\t\t\t\t\tsym=leq;\n\t\t\t\t\t\tgetchdo;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{ \n\t\t\t\t\t\tsym=lss;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(ch=='>')    // >\n\t\t\t\t\t{\n\t\t\t\t\t\tgetchdo;\n\t\t\t\t\t\tif(ch=='=') // >=\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsym=geq;\n\t\t\t\t\t\t\tgetchdo;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t    sym=gtr;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse // 上面的情况都不是，在ssym表中查询并赋值\n\t\t\t\t\t{\n\t\t\t\t\t\tsym=ssym[ch]; \n\t\t\t\t\t\t//getchdo;\n\t\t\t\t\t\t//richard\n\t\t\t\t\t\tif(sym!=period)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tgetchdo;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//end richard\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n","tags":["编译原理","PL/0"]},{"title":"Ubuntu 20.04 LTS 优化|美化 & 问题解决","url":"/2021/09/17/ubuntu/","content":"\n从我开始写这篇文章起，已经将ubuntu作为主力系统使用了大概两个月时间了。从一开始的小白到现在的轻车熟路，遇到了各种各样的奇葩问题，这些问题在大佬眼里可能不值一提，但对小白来说却要花费不少精力逛遍各种国内外论坛来寻求解决办法，于是乎我来把一些折腾的过程记录下来或许对像我一样刚刚接触Linux的同学有所帮助。\n\n\n\n### 一、实用工具\n\n排名不分先后，想到啥写啥\n\n#### 火狐浏览器\n\n这个应该是系统安装完时候就有的，虽然在Windows下我基本不用，但是在ubuntu下，体验感觉比chromium要好。\n\n#### 搜狗输入法\n\n在我用过的中文输入法中体验是最棒的，词库太强大了。\n\n下载地址：[点我直达](https://pinyin.sogou.com/linux/?r=pinyin)\n\n安装教程：[点我直达](https://pinyin.sogou.com/linux/help.php)\n\n#### Visual Studio Code\n\n代码编辑利器，体验一级棒\n\n下载地址：[点我直达](https://code.visualstudio.com/download)\n\n#### QQ for linux\n\n处于勉强能用的状态，界面还停留在上个世纪。\n\n下载地址：[点我直达](https://im.qq.com/linuxqq/index.html)\n\n#### 网易云音乐\n\n听歌必备,界面跟Windows下一样，支持最小化到系统状态栏，比QQ不知道强到哪里了...\n\n下载地址：[点我直达](https://d1.music.126.net/dmusic/netease-cloud-music_1.2.1_amd64_ubuntu_20190428.deb)\n\n#### 深度截图\n\ndeepin操作系统自带的截图工具，感觉是Linux下最好用的截图软件，体验和我在Windows下常用的\n\nSnipaste很接近。\n\n下载地址：[点我直达](https://www.deepin.org/zh/original/deepin-screenshot/)\n\n#### Deepin wine\n\nDeepin 团队开发的一个可以模拟Windows行为的模拟器，可以在Linux环境下运行一些Windows软件，比如QQ、Tim、微信、QQ音乐等等。喜欢折腾的同学可以试试。\n\n项目地址：[项目地址](https://github.com/wszqkzqk/deepin-wine-ubuntu)\n\n#### Clash\n\n科学上网\n\nclash在Linux下是没有桌面端的，可以通过web工具管理，具体安装步骤可以参考以下文章：\n\nhttp://www.ptbird.cn/ubuntu-2004-clash-for-linux.html\n\n\n\n------\n\n### 二、主题美化\n\n先放一波效果图：\n\n<img src=\"https://gitee.com/ym1116/pic-go/raw/master/DeepinScreenshot_select-area_20210918204646.png\" style=\"width: 80%;margin: 0 auto\" />\n\n\n\n#### 桌面主题\n\n##### 主题获取\n\nGnome桌面提供了一个官方主题网站：https://www.gnome-look.org/， 上面有各种各样的主题可供选择，这里要注意选择GTK3下的主题，其他板块的主题不适用于ubuntu。\n\n网站提供一个打分和排名系统，可以更好的帮助你选择比较完善的主题，排名靠前的主题不会太差的。\n\n##### 主题安装启用\n\n1. 将选择好的主题下载并解压到/usr/share/themes下\n\n2. 安装GNOME Tweaks工具，tweaks可以帮助你高度自定义gnome桌面\n\n   ```shell\n   sudo apt update\n   sudo apt install gnome-tweaks\n   ```\n\n3. 打开Tweak,在外观选项下找到'应用程序'选项，选择刚刚下载的主题即可。\n\n#### 桌面图标\n\n还是刚刚下载主题那个gnome官方网站，在侧边选项栏找到Full Icon Themes,过程和安装主题一样，只不过要把下载的icon文件解压到/usr/share/icons/ 下。然后在tweak下找到并启用。\n\n\n\n#### Shell主题\n\n参考以下文章：https://www.sysgeek.cn/install-zsh-shell-ubuntu-18-04/\n\n#### 桌面插件\n\n插件可以方便的帮助我们实现某一功能，在安装之前，我们下要安装一个浏览器拓展\n\n```shell\nsudo apt install chrome-gnome-shell\n```\n\n这个拓展可以方便的帮助我们安装插件\n\n下面介绍几个我认为比较好用的插件，已第一个为例介绍安装方法，后面的只提供安装地址。\n\n##### 状态栏透明插件\n\n首先打开https://extensions.gnome.org/， 搜索transparent-top-bar，搜索结果可能会有很多重名插件，这里我们选择https://extensions.gnome.org/extension/1708/transparent-top-bar/， 打开后你会发现插件名字右上角有一个开关，如果你已经提前安装好了上文提到的浏览器拓展，那么直接打开开关就可以将拓展启用。之后还可以在tweaks工具的拓展栏下进行管理。\n\n\n\n##### 状态栏显示实时网速插件\n\n地址：https://extensions.gnome.org/extension/104/netspeed/\n\n\n\n##### 显示当前活动窗口完整标题\n\n在浏览网页时可以在状态栏显示网页完整标题\n\n地址：https://extensions.gnome.org/extension/59/status-title-bar/\n\n\n\n##### Applications menu\n\n可以在状态栏左上角显示一个基于分类的应用菜单\n\n<img src=\"https://gitee.com/ym1116/pic-go/raw/master/DeepinScreenshot_select-area_20210918213225.png\" style=\"width:50%;\" />\n\n\n\n##### 任务栏自定义插件\n\n这里要推荐的是dash to dock 插件，使用方法我就不赘述了，网上都有，贴个链接。\n\n地址：https://extensions.gnome.org/extension/307/dash-to-dock/\n\n使用教程：https://www.cnblogs.com/keatonlao/p/12705335.html\n\n\n\n##### 大家有好用的插件也可以在评论区分享\n\n### 三、遇到的一些问题和解决办法\n\n很多问题不知从何写起（以后遇到会记录在这里），当然如果看到我这篇文章有什么问题可以在评论区留言。\n\n#### 关于修改启动页面背景\n\n放个链接：https://blog.csdn.net/m0_37138008/article/details/106937679\n\n#### 状态栏显示cpu、内存占用\n\n放个链接：https://blog.csdn.net/kan2016/article/details/105763448\n\n------\n\n首次编辑：2021-9-17\n\n最后更新日期：2021-9-21\n\n","tags":["Ubuntu","优化"]},{"title":"Hello World","url":"/2021/07/21/hello-world/","content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n"}]